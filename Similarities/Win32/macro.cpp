///////////////////////////////////////////////////////////////////////////////////

#include "pch.h"

///////////////////////////////////////////////////////////////////////////////////

#include "macro.h"

///////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////

#pragma warning( push )
#pragma warning( disable : 4995 )

#include <intrin.h>

#pragma warning( pop )

///////////////////////////////////////////////////////////////////////////////////

bool
STDMETHODCALLTYPE
bHaveSSE2()
{
	int CPUInfo[ 4 ];

	__cpuid( CPUInfo, 1 );

	//bool MMX   = ( 0 != ( ( 1 << 23 ) & CPUInfo[ 3 ] ) );
	//bool SSE   = ( 0 != ( ( 1 << 25 ) & CPUInfo[ 3 ] ) );
	//bool SSE2  = ( 0 != ( ( 1 << 26 ) & CPUInfo[ 3 ] ) );
	//bool SSE3  = ( 0 != ( ( 1 <<  0 ) & CPUInfo[ 2 ] ) );
	//bool SSSE3 = ( 0 != ( ( 1 <<  9 ) & CPUInfo[ 2 ] ) );
	//bool SSE41 = ( 0 != ( ( 1 << 19 ) & CPUInfo[ 2 ] ) );
	//bool SSE42 = ( 0 != ( ( 1 << 20 ) & CPUInfo[ 2 ] ) );
	return ( 0 != ( ( 1 << 26 ) & CPUInfo[ 3 ] ) );
}

///////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////